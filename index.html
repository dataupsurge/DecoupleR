<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manage application settings via .env or .ini files with type casting and default values • DecoupleR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Manage application settings via .env or .ini files with type casting and default values">
<meta name="description" content="This package provides a simple way to manage application settings by loading configuration values from .env or .ini files. It supports default values, type casting, and environment variable overrides, enabling a clean separation of configuration from code. Ideal for managing credentials, API keys, and deployment-specific settings.">
<meta property="og:description" content="This package provides a simple way to manage application settings by loading configuration values from .env or .ini files. It supports default values, type casting, and environment variable overrides, enabling a clean separation of configuration from code. Ideal for managing credentials, API keys, and deployment-specific settings.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">DecoupleR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="decoupler">DecoupleR<a class="anchor" aria-label="anchor" href="#decoupler"></a>
</h1></div>
<p>Strict separation of settings from code.</p>
<p><em>DecoupleR</em> is an attempt to port the excellent python-decouple library into R.</p>
<p>As stated by its original author, python-decouple makes it easy to:</p>
<ul>
<li>store parameters in <em>ini</em> or <em>.env</em> files;</li>
<li>define comprehensive default values;</li>
<li>properly convert values to the correct data type;</li>
<li>have <strong>only one</strong> configuration module to rule all your instances.</li>
</ul>
<p>DecoupleR general behavior have been in order to mimic as much as possible python-decouple, and is tested against python-decouple unit tests.</p>
<div class="section level2">
<h2 id="priority-rules-and-config-files-serach">Priority rules and config files serach<a class="anchor" aria-label="anchor" href="#priority-rules-and-config-files-serach"></a>
</h2>
<p><em>DecoupleR</em> always searches for <em>Options</em> in this order:</p>
<ol style="list-style-type: decimal">
<li>Environment variables;</li>
<li>Repository: ini or .env file;</li>
<li>Default argument passed to config.</li>
</ol>
<p>It has to be noted that environment variables have precedence over config files in order to be unix consistent.</p>
</div>
<div class="section level2">
<h2 id="config-file-search">Config file search<a class="anchor" aria-label="anchor" href="#config-file-search"></a>
</h2>
<p>The config files are searched for, by default, in the working directory, or in the any other directory provided via the <em>path</em> argument. If no config files, <em>settings.ini</em> or <em>.env</em> is found in the directory, the search will continue in its parent directories.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level3">
<h3 id="on-the-fly-parameter-evaluation">On-the-fly parameter evaluation<a class="anchor" aria-label="anchor" href="#on-the-fly-parameter-evaluation"></a>
</h3>
<p>Parameter value can be retrieve anytime by invoking the <em>DecoupleR::get_var</em> function. If the <em>config</em> parameter is not provided, a config file search will be carried out at each function call.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="fu"><a href="reference/get_var.html">get_var</a></span><span class="op">(</span><span class="st">'R_HOME'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preload-the-config-file">Preload the config file<a class="anchor" aria-label="anchor" href="#preload-the-config-file"></a>
</h3>
<p>In order to avoid recurrent config file search at each <em>get_var</em> call, the config file search can be carried out once via the <em>get_config</em> function. A list will be returned, containing the parameters from the config file if any.</p>
</div>
</div>
<div class="section level2">
<h2 id="implementated-parser">Implementated parser<a class="anchor" aria-label="anchor" href="#implementated-parser"></a>
</h2>
<p><em>DecoupleR</em> supports both <em>.ini</em> and <em>.env</em> files.</p>
<div class="section level3">
<h3 id="ini-file">Ini file<a class="anchor" aria-label="anchor" href="#ini-file"></a>
</h3>
<p>DecoupleR can read <em>ini</em> files and provide simple interpolation.</p>
<p>Simply create a `<code>settings.ini</code> in your working directory or in its roots.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="dt">  </span><span class="kw">[settings]</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="dt">  DEBUG</span><span class="ot">=</span><span class="kw">True</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="dt">  TEMPLATE_DEBUG</span><span class="ot">=</span><span class="st">%(DEBUG)s</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="dt">  SECRET_KEY</span><span class="ot">=</span><span class="st">ARANDOMSECRETKEY</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="dt">  DATABASE_URL</span><span class="ot">=</span><span class="st">mysql://myuser:mypassword@myhost/mydatabase</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="dt">  PERCENTILE</span><span class="ot">=</span><span class="st">90%%</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="dt">  </span><span class="co">#COMMENTED=42</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="env-file">Env file<a class="anchor" aria-label="anchor" href="#env-file"></a>
</h3>
<p>Simply create a <code>.env</code> text file on your repository’s root directory in the form:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="va">DEBUG</span><span class="op">=</span>True</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>    <span class="va">TEMPLATE_DEBUG</span><span class="op">=</span>True</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="va">SECRET_KEY</span><span class="op">=</span>ARANDOMSECRETKEY</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    <span class="va">DATABASE_URL</span><span class="op">=</span>mysql://myuser:mypassword@myhost/mydatabase</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="va">PERCENTILE</span><span class="op">=</span>90%</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>    <span class="co">#COMMENTED=42</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="undefined-parameters">
<em>undefined</em> parameters<a class="anchor" aria-label="anchor" href="#undefined-parameters"></a>
</h2>
<p>On the above example, all configuration parameters except <code>SECRET_KEY = config('SECRET_KEY')</code> have a default value to fallback if it does not exist on the <code>.env</code> file.</p>
<p>If <code>SECRET_KEY</code> is not present in the <code>.env</code>, <em>DecoupleR</em> will raise an error.</p>
<p>This <em>fail fast</em> policy helps you avoid chasing misbehaviors when you eventually forget a parameter.</p>
<div class="section level3">
<h3 id="casting-argument">Casting argument<a class="anchor" aria-label="anchor" href="#casting-argument"></a>
</h3>
<p>By default, all values returned by <code>DecoupleR</code> are <code>strings</code>.</p>
<p>To easily specify a returned type, the <code>get_var</code> function accepts a <code>cast</code> argument which receives any <em>callable</em>, that will be used to <em>transform</em> the string value into something else. Some prefedined transformation have also been implementated:</p>
<ul>
<li>Integer: <code>int</code>, <code>integer</code>
</li>
<li>Bolean: <code>bool</code>, <code>boolean</code>, <code>logical</code>
</li>
<li>Float: <code>float</code>
</li>
</ul>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing DecoupleR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Morgan Durand <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/dataupsurge/DecoupleR" class="external-link"><img src="https://codecov.io/gh/dataupsurge/DecoupleR/graph/badge.svg?token=jCVVBVqP6a" alt="codecov"></a></li>
<li><a href="https://github.com/dataupsurge/SQLFormatteR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/dataupsurge/SQLFormatteR/actions/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Morgan Durand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
